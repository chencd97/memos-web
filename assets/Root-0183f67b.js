import{r as F,g as gt,j as o,I as O,a as vt,u as Ne,b as ie,c as xt,d as tt,D as $t,U as wt,e as Nt,s as Le,f as yt,h as Rt,N as k,O as It}from"./index-9f89f6fd.js";import{s as St}from"./MemoEditorDialog-765a3fa1.js";const jt={sm:640,md:768,lg:1024},bt=()=>{const[t,e]=F.useState(0);return F.useEffect(()=>{gt().then(r=>{e(r)})},[]),o.jsxs("a",{className:"h-7 flex flex-row justify-start items-center border dark:border-zinc-600 rounded cursor-pointer hover:opacity-80",href:"https://github.com/usememos/memos",target:"_blank",children:[o.jsxs("div",{className:"apply w-auto h-full px-2 flex flex-row justify-center items-center text-xs bg-gray-100 dark:bg-zinc-700",children:[o.jsx(O.Github,{className:"mr-1 w-4 h-4"}),"Star"]}),o.jsx("div",{className:"w-auto h-full flex flex-row justify-center items-center px-3 text-xs font-bold",children:t||""})]})},Ot=({destroy:t})=>{const{t:e}=Ne(),r=ie(),s=r.state.systemStatus.profile,i=r.state.systemStatus.customizedProfile,n=()=>{t()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"dialog-header-container",children:[o.jsxs("p",{className:"title-text flex items-center",children:[e("common.about")," ",i.name]}),o.jsx("button",{className:"btn close-btn",onClick:n,children:o.jsx(O.X,{})})]}),o.jsxs("div",{className:"flex flex-col justify-start items-start max-w-full w-96",children:[o.jsx("p",{className:"text-xs",children:e("about.memos-description")}),o.jsx("p",{className:"text-sm mt-2 ",children:i.description||e("about.no-server-description")}),o.jsxs("div",{className:"mt-4 w-full flex flex-row text-sm justify-start items-center",children:[o.jsxs("div",{className:"flex flex-row justify-start items-center mr-2",children:[e("about.powered-by"),o.jsxs("a",{href:"https://usememos.com",target:"_blank",className:"flex flex-row justify-start items-center mx-1 hover:underline",children:[o.jsx("img",{className:"w-6 h-auto rounded-full mr-1",src:"/logo.webp",alt:""}),"memos"]}),o.jsxs("span",{children:["v",s.version]})]}),o.jsx(bt,{})]}),o.jsxs("div",{className:"border-t w-full mt-3 pt-2 text-sm flex flex-row justify-start items-center space-x-2",children:[o.jsxs("span",{className:"text-gray-500",children:[e("about.other-projects"),":"]}),o.jsxs("a",{href:"https://github.com/boojack/sticky-notes",target:"_blank",className:"flex items-center underline text-blue-600 hover:opacity-80",children:[o.jsx("img",{className:"w-4 h-auto mr-1",src:"https://raw.githubusercontent.com/boojack/sticky-notes/main/public/sticky-notes.ico",alt:""}),o.jsx("span",{children:"Sticky notes"})]}),o.jsxs("a",{href:"https://star-history.com",target:"_blank",className:"flex items-center underline text-blue-600 hover:opacity-80",children:[o.jsx("img",{className:"w-4 h-auto mr-1",src:"https://star-history.com/icon.png",alt:""}),o.jsx("span",{children:"Star history"})]})]})]})]})};function Lt(){vt({className:"about-site-dialog",dialogName:"about-site-dialog"},Ot)}const At=()=>{const{t}=Ne(),e=xt(),r=ie(),s=tt(),{systemStatus:i}=r.state,{user:n}=s.state,[a,f]=F.useState("Memos");F.useEffect(()=>{n&&f(n.nickname||n.username)},[n]);const l=()=>{e("/setting")},j=()=>{Lt()},h=async()=>{await s.doSignOut(),window.location.href="/auth"};return o.jsx("div",{className:"flex flex-row justify-between items-center relative w-full h-auto px-2 flex-nowrap shrink-0",children:o.jsx($t,{className:"w-full",trigger:o.jsxs("div",{className:"px-3 py-2 max-w-full flex flex-row justify-start items-center cursor-pointer rounded-lg hover:shadow hover:bg-white dark:hover:bg-zinc-700",children:[o.jsx(wt,{avatarUrl:n==null?void 0:n.avatarUrl}),o.jsx("span",{className:"px-1 text-lg font-medium text-slate-800 dark:text-gray-200 shrink truncate",children:s.isVisitorMode()?i.customizedProfile.name:a}),(n==null?void 0:n.role)==="HOST"?o.jsx("span",{className:"text-xs px-1 bg-blue-600 dark:bg-blue-800 rounded text-white dark:text-gray-200 shadow",children:"MOD"}):null]}),actionsClassName:"min-w-[128px] max-w-full",positionClassName:"top-full mt-2",actions:o.jsxs(o.Fragment,{children:[!s.isVisitorMode()&&o.jsx(o.Fragment,{children:o.jsxs("button",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:l,children:[o.jsx(O.User,{className:"w-5 h-auto mr-2 opacity-80"})," ",t("setting.my-account")]})}),o.jsxs("button",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:j,children:[o.jsx(O.Info,{className:"w-5 h-auto mr-2 opacity-80"})," ",t("common.about")]}),!s.isVisitorMode()&&o.jsxs("button",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:h,children:[o.jsx(O.LogOut,{className:"w-5 h-auto mr-2 opacity-80"})," ",t("common.sign-out")]})]})})})};var V={},Tt={get exports(){return V},set exports(t){V=t}};const Ct="2.0.0",Dt=256,Pt=Number.MAX_SAFE_INTEGER||9007199254740991,Gt=16;var ae={SEMVER_SPEC_VERSION:Ct,MAX_LENGTH:Dt,MAX_SAFE_INTEGER:Pt,MAX_SAFE_COMPONENT_LENGTH:Gt};const _t=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var oe=_t;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=ae,s=oe;e=t.exports={};const i=e.re=[],n=e.src=[],a=e.t={};let f=0;const l=(j,h,d)=>{const w=f++;s(j,w,h),a[j]=w,n[w]=h,i[w]=new RegExp(h,d?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${n[a.NUMERICIDENTIFIER]}|${n[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${n[a.NUMERICIDENTIFIERLOOSE]}|${n[a.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${n[a.PRERELEASEIDENTIFIER]}(?:\\.${n[a.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${n[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[a.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${n[a.BUILDIDENTIFIER]}(?:\\.${n[a.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${n[a.MAINVERSION]}${n[a.PRERELEASE]}?${n[a.BUILD]}?`),l("FULL",`^${n[a.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${n[a.MAINVERSIONLOOSE]}${n[a.PRERELEASELOOSE]}?${n[a.BUILD]}?`),l("LOOSE",`^${n[a.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${n[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${n[a.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:${n[a.PRERELEASE]})?${n[a.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:${n[a.PRERELEASELOOSE]})?${n[a.BUILD]}?)?)?`),l("XRANGE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",n[a.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${n[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${n[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${n[a.LONECARET]}${n[a.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${n[a.LONECARET]}${n[a.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${n[a.GTLT]}\\s*(${n[a.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]}|${n[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${n[a.XRANGEPLAIN]})\\s+-\\s+(${n[a.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${n[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[a.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Tt,V);const Ft=["includePrerelease","loose","rtl"],Vt=t=>t?typeof t!="object"?{loose:!0}:Ft.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};var le=Vt;const Ae=/^[0-9]+$/,rt=(t,e)=>{const r=Ae.test(t),s=Ae.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},kt=(t,e)=>rt(e,t);var st={compareIdentifiers:rt,rcompareIdentifiers:kt};const Q=oe,{MAX_LENGTH:Te,MAX_SAFE_INTEGER:ee}=ae,{re:Ce,t:De}=V,Xt=le,{compareIdentifiers:B}=st;let Ut=class P{constructor(e,r){if(r=Xt(r),e instanceof P){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Te)throw new TypeError(`version is longer than ${Te} characters`);Q("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const s=e.trim().match(r.loose?Ce[De.LOOSE]:Ce[De.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>ee||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ee||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ee||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const n=+i;if(n>=0&&n<ee)return n}return i}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Q("SemVer.compare",this.version,this.options,e),!(e instanceof P)){if(typeof e=="string"&&e===this.version)return 0;e=new P(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof P||(e=new P(e,this.options)),B(this.major,e.major)||B(this.minor,e.minor)||B(this.patch,e.patch)}comparePre(e){if(e instanceof P||(e=new P(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const s=this.prerelease[r],i=e.prerelease[r];if(Q("prerelease compare",r,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return B(s,i)}while(++r)}compareBuild(e){e instanceof P||(e=new P(e,this.options));let r=0;do{const s=this.build[r],i=e.build[r];if(Q("prerelease compare",r,s,i),s===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(s===void 0)return-1;if(s===i)continue;return B(s,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);s===-1&&this.prerelease.push(0)}r&&(B(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var L=Ut;const{MAX_LENGTH:zt}=ae,{re:Pe,t:Ge}=V,_e=L,Ht=le,Bt=(t,e)=>{if(e=Ht(e),t instanceof _e)return t;if(typeof t!="string"||t.length>zt||!(e.loose?Pe[Ge.LOOSE]:Pe[Ge.FULL]).test(t))return null;try{return new _e(t,e)}catch{return null}};var Y=Bt;const Mt=Y,qt=(t,e)=>{const r=Mt(t,e);return r?r.version:null};var Yt=qt;const Wt=Y,Zt=(t,e)=>{const r=Wt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Kt=Zt;const Fe=L,Jt=(t,e,r,s)=>{typeof r=="string"&&(s=r,r=void 0);try{return new Fe(t instanceof Fe?t.version:t,r).inc(e,s).version}catch{return null}};var Qt=Jt;const Ve=L,er=(t,e,r)=>new Ve(t,r).compare(new Ve(e,r));var C=er;const tr=C,rr=(t,e,r)=>tr(t,e,r)===0;var ye=rr;const ke=Y,sr=ye,nr=(t,e)=>{if(sr(t,e))return null;{const r=ke(t),s=ke(e),i=r.prerelease.length||s.prerelease.length,n=i?"pre":"",a=i?"prerelease":"";for(const f in r)if((f==="major"||f==="minor"||f==="patch")&&r[f]!==s[f])return n+f;return a}};var ir=nr;const ar=L,or=(t,e)=>new ar(t,e).major;var lr=or;const cr=L,hr=(t,e)=>new cr(t,e).minor;var ur=hr;const fr=L,mr=(t,e)=>new fr(t,e).patch;var pr=mr;const dr=Y,Er=(t,e)=>{const r=dr(t,e);return r&&r.prerelease.length?r.prerelease:null};var gr=Er;const vr=C,xr=(t,e,r)=>vr(e,t,r);var $r=xr;const wr=C,Nr=(t,e)=>wr(t,e,!0);var yr=Nr;const Xe=L,Rr=(t,e,r)=>{const s=new Xe(t,r),i=new Xe(e,r);return s.compare(i)||s.compareBuild(i)};var Re=Rr;const Ir=Re,Sr=(t,e)=>t.sort((r,s)=>Ir(r,s,e));var jr=Sr;const br=Re,Or=(t,e)=>t.sort((r,s)=>br(s,r,e));var Lr=Or;const Ar=C,Tr=(t,e,r)=>Ar(t,e,r)>0;var ce=Tr;const Cr=C,Dr=(t,e,r)=>Cr(t,e,r)<0;var Ie=Dr;const Pr=C,Gr=(t,e,r)=>Pr(t,e,r)!==0;var nt=Gr;const _r=C,Fr=(t,e,r)=>_r(t,e,r)>=0;var Se=Fr;const Vr=C,kr=(t,e,r)=>Vr(t,e,r)<=0;var je=kr;const Xr=ye,Ur=nt,zr=ce,Hr=Se,Br=Ie,Mr=je,qr=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Xr(t,r,s);case"!=":return Ur(t,r,s);case">":return zr(t,r,s);case">=":return Hr(t,r,s);case"<":return Br(t,r,s);case"<=":return Mr(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var it=qr;const Yr=L,Wr=Y,{re:te,t:re}=V,Zr=(t,e)=>{if(t instanceof Yr)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(te[re.COERCE]);else{let s;for(;(s=te[re.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||s.index+s[0].length!==r.index+r[0].length)&&(r=s),te[re.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;te[re.COERCERTL].lastIndex=-1}return r===null?null:Wr(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Kr=Zr,pe,Ue;function Jr(){return Ue||(Ue=1,pe=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),pe}var Qr=N;N.Node=z;N.create=N;function N(t){var e=this;if(e instanceof N||(e=new N),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}N.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};N.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};N.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};N.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ts(this,arguments[t]);return this.length};N.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)rs(this,arguments[t]);return this.length};N.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};N.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};N.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,s=0;r!==null;s++)t.call(e,r.value,s,this),r=r.next};N.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,s=this.length-1;r!==null;s--)t.call(e,r.value,s,this),r=r.prev};N.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};N.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};N.prototype.map=function(t,e){e=e||this;for(var r=new N,s=this.head;s!==null;)r.push(t.call(e,s.value,this)),s=s.next;return r};N.prototype.mapReverse=function(t,e){e=e||this;for(var r=new N,s=this.tail;s!==null;)r.push(t.call(e,s.value,this)),s=s.prev;return r};N.prototype.reduce=function(t,e){var r,s=this.head;if(arguments.length>1)r=e;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;s!==null;i++)r=t(r,s.value,i),s=s.next;return r};N.prototype.reduceReverse=function(t,e){var r,s=this.tail;if(arguments.length>1)r=e;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;s!==null;i--)r=t(r,s.value,i),s=s.prev;return r};N.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};N.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};N.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new N;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(;i!==null&&s<e;s++,i=i.next)r.push(i.value);return r};N.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new N;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,i=this.tail;i!==null&&s>e;s--)i=i.prev;for(;i!==null&&s>t;s--,i=i.prev)r.push(i.value);return r};N.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,i=this.head;i!==null&&s<t;s++)i=i.next;for(var n=[],s=0;i&&s<e;s++)n.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var s=0;s<r.length;s++)i=es(this,i,r[s]);return n};N.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=e,this.tail=t,this};function es(t,e,r){var s=e===t.head?new z(r,null,e,t):new z(r,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function ts(t,e){t.tail=new z(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function rs(t,e){t.head=new z(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function z(t,e,r,s){if(!(this instanceof z))return new z(t,e,r,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Jr()(N)}catch{}const ss=Qr,X=Symbol("max"),_=Symbol("length"),M=Symbol("lengthCalculator"),J=Symbol("allowStale"),U=Symbol("maxAge"),G=Symbol("dispose"),ze=Symbol("noDisposeOnSet"),S=Symbol("lruList"),T=Symbol("cache"),at=Symbol("updateAgeOnGet"),de=()=>1;class ns{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[X]=e.max||1/0;const r=e.length||de;if(this[M]=typeof r!="function"?de:r,this[J]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[U]=e.maxAge||0,this[G]=e.dispose,this[ze]=e.noDisposeOnSet||!1,this[at]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[X]=e||1/0,Z(this)}get max(){return this[X]}set allowStale(e){this[J]=!!e}get allowStale(){return this[J]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[U]=e,Z(this)}get maxAge(){return this[U]}set lengthCalculator(e){typeof e!="function"&&(e=de),e!==this[M]&&(this[M]=e,this[_]=0,this[S].forEach(r=>{r.length=this[M](r.value,r.key),this[_]+=r.length})),Z(this)}get lengthCalculator(){return this[M]}get length(){return this[_]}get itemCount(){return this[S].length}rforEach(e,r){r=r||this;for(let s=this[S].tail;s!==null;){const i=s.prev;He(this,e,s,r),s=i}}forEach(e,r){r=r||this;for(let s=this[S].head;s!==null;){const i=s.next;He(this,e,s,r),s=i}}keys(){return this[S].toArray().map(e=>e.key)}values(){return this[S].toArray().map(e=>e.value)}reset(){this[G]&&this[S]&&this[S].length&&this[S].forEach(e=>this[G](e.key,e.value)),this[T]=new Map,this[S]=new ss,this[_]=0}dump(){return this[S].map(e=>ne(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[S]}set(e,r,s){if(s=s||this[U],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const i=s?Date.now():0,n=this[M](r,e);if(this[T].has(e)){if(n>this[X])return q(this,this[T].get(e)),!1;const l=this[T].get(e).value;return this[G]&&(this[ze]||this[G](e,l.value)),l.now=i,l.maxAge=s,l.value=r,this[_]+=n-l.length,l.length=n,this.get(e),Z(this),!0}const a=new is(e,r,n,i,s);return a.length>this[X]?(this[G]&&this[G](e,r),!1):(this[_]+=a.length,this[S].unshift(a),this[T].set(e,this[S].head),Z(this),!0)}has(e){if(!this[T].has(e))return!1;const r=this[T].get(e).value;return!ne(this,r)}get(e){return Ee(this,e,!0)}peek(e){return Ee(this,e,!1)}pop(){const e=this[S].tail;return e?(q(this,e),e.value):null}del(e){q(this,this[T].get(e))}load(e){this.reset();const r=Date.now();for(let s=e.length-1;s>=0;s--){const i=e[s],n=i.e||0;if(n===0)this.set(i.k,i.v);else{const a=n-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[T].forEach((e,r)=>Ee(this,r,!1))}}const Ee=(t,e,r)=>{const s=t[T].get(e);if(s){const i=s.value;if(ne(t,i)){if(q(t,s),!t[J])return}else r&&(t[at]&&(s.value.now=Date.now()),t[S].unshiftNode(s));return i.value}},ne=(t,e)=>{if(!e||!e.maxAge&&!t[U])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[U]&&r>t[U]},Z=t=>{if(t[_]>t[X])for(let e=t[S].tail;t[_]>t[X]&&e!==null;){const r=e.prev;q(t,e),e=r}},q=(t,e)=>{if(e){const r=e.value;t[G]&&t[G](r.key,r.value),t[_]-=r.length,t[T].delete(r.key),t[S].removeNode(e)}};class is{constructor(e,r,s,i,n){this.key=e,this.value=r,this.length=s,this.now=i,this.maxAge=n||0}}const He=(t,e,r,s)=>{let i=r.value;ne(t,i)&&(q(t,r),t[J]||(i=void 0)),i&&e.call(s,i.value,i.key,t)};var as=ns,ge,Be;function D(){if(Be)return ge;Be=1;class t{constructor(c,v){if(v=s(v),c instanceof t)return c.loose===!!v.loose&&c.includePrerelease===!!v.includePrerelease?c:new t(c.raw,v);if(c instanceof i)return this.raw=c.value,this.set=[[c]],this.format(),this;if(this.options=v,this.loose=!!v.loose,this.includePrerelease=!!v.includePrerelease,this.raw=c,this.set=c.split("||").map(E=>this.parseRange(E.trim())).filter(E=>E.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${c}`);if(this.set.length>1){const E=this.set[0];if(this.set=this.set.filter(g=>!w(g[0])),this.set.length===0)this.set=[E];else if(this.set.length>1){for(const g of this.set)if(g.length===1&&p(g[0])){this.set=[g];break}}}this.format()}format(){return this.range=this.set.map(c=>c.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(c){c=c.trim();const E=`parseRange:${Object.keys(this.options).join(",")}:${c}`,g=r.get(E);if(g)return g;const m=this.options.loose,x=m?f[l.HYPHENRANGELOOSE]:f[l.HYPHENRANGE];c=c.replace(x,dt(this.options.includePrerelease)),n("hyphen replace",c),c=c.replace(f[l.COMPARATORTRIM],j),n("comparator trim",c),c=c.replace(f[l.TILDETRIM],h),c=c.replace(f[l.CARETTRIM],d),c=c.split(/\s+/).join(" ");let y=c.split(" ").map(I=>fe(I,this.options)).join(" ").split(/\s+/).map(I=>pt(I,this.options));m&&(y=y.filter(I=>(n("loose invalid filter",I,this.options),!!I.match(f[l.COMPARATORLOOSE])))),n("range list",y);const $=new Map,R=y.map(I=>new i(I,this.options));for(const I of R){if(w(I))return[I];$.set(I.value,I)}$.size>1&&$.has("")&&$.delete("");const A=[...$.values()];return r.set(E,A),A}intersects(c,v){if(!(c instanceof t))throw new TypeError("a Range is required");return this.set.some(E=>H(E,v)&&c.set.some(g=>H(g,v)&&E.every(m=>g.every(x=>m.intersects(x,v)))))}test(c){if(!c)return!1;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}for(let v=0;v<this.set.length;v++)if(Et(this.set[v],c,this.options))return!0;return!1}}ge=t;const e=as,r=new e({max:1e3}),s=le,i=he(),n=oe,a=L,{re:f,t:l,comparatorTrimReplace:j,tildeTrimReplace:h,caretTrimReplace:d}=V,w=u=>u.value==="<0.0.0-0",p=u=>u.value==="",H=(u,c)=>{let v=!0;const E=u.slice();let g=E.pop();for(;v&&E.length;)v=E.every(m=>g.intersects(m,c)),g=E.pop();return v},fe=(u,c)=>(n("comp",u,c),u=ct(u,c),n("caret",u),u=me(u,c),n("tildes",u),u=ut(u,c),n("xrange",u),u=mt(u,c),n("stars",u),u),b=u=>!u||u.toLowerCase()==="x"||u==="*",me=(u,c)=>u.trim().split(/\s+/).map(v=>lt(v,c)).join(" "),lt=(u,c)=>{const v=c.loose?f[l.TILDELOOSE]:f[l.TILDE];return u.replace(v,(E,g,m,x,y)=>{n("tilde",u,E,g,m,x,y);let $;return b(g)?$="":b(m)?$=`>=${g}.0.0 <${+g+1}.0.0-0`:b(x)?$=`>=${g}.${m}.0 <${g}.${+m+1}.0-0`:y?(n("replaceTilde pr",y),$=`>=${g}.${m}.${x}-${y} <${g}.${+m+1}.0-0`):$=`>=${g}.${m}.${x} <${g}.${+m+1}.0-0`,n("tilde return",$),$})},ct=(u,c)=>u.trim().split(/\s+/).map(v=>ht(v,c)).join(" "),ht=(u,c)=>{n("caret",u,c);const v=c.loose?f[l.CARETLOOSE]:f[l.CARET],E=c.includePrerelease?"-0":"";return u.replace(v,(g,m,x,y,$)=>{n("caret",u,g,m,x,y,$);let R;return b(m)?R="":b(x)?R=`>=${m}.0.0${E} <${+m+1}.0.0-0`:b(y)?m==="0"?R=`>=${m}.${x}.0${E} <${m}.${+x+1}.0-0`:R=`>=${m}.${x}.0${E} <${+m+1}.0.0-0`:$?(n("replaceCaret pr",$),m==="0"?x==="0"?R=`>=${m}.${x}.${y}-${$} <${m}.${x}.${+y+1}-0`:R=`>=${m}.${x}.${y}-${$} <${m}.${+x+1}.0-0`:R=`>=${m}.${x}.${y}-${$} <${+m+1}.0.0-0`):(n("no pr"),m==="0"?x==="0"?R=`>=${m}.${x}.${y}${E} <${m}.${x}.${+y+1}-0`:R=`>=${m}.${x}.${y}${E} <${m}.${+x+1}.0-0`:R=`>=${m}.${x}.${y} <${+m+1}.0.0-0`),n("caret return",R),R})},ut=(u,c)=>(n("replaceXRanges",u,c),u.split(/\s+/).map(v=>ft(v,c)).join(" ")),ft=(u,c)=>{u=u.trim();const v=c.loose?f[l.XRANGELOOSE]:f[l.XRANGE];return u.replace(v,(E,g,m,x,y,$)=>{n("xRange",u,E,g,m,x,y,$);const R=b(m),A=R||b(x),I=A||b(y),W=I;return g==="="&&W&&(g=""),$=c.includePrerelease?"-0":"",R?g===">"||g==="<"?E="<0.0.0-0":E="*":g&&W?(A&&(x=0),y=0,g===">"?(g=">=",A?(m=+m+1,x=0,y=0):(x=+x+1,y=0)):g==="<="&&(g="<",A?m=+m+1:x=+x+1),g==="<"&&($="-0"),E=`${g+m}.${x}.${y}${$}`):A?E=`>=${m}.0.0${$} <${+m+1}.0.0-0`:I&&(E=`>=${m}.${x}.0${$} <${m}.${+x+1}.0-0`),n("xRange return",E),E})},mt=(u,c)=>(n("replaceStars",u,c),u.trim().replace(f[l.STAR],"")),pt=(u,c)=>(n("replaceGTE0",u,c),u.trim().replace(f[c.includePrerelease?l.GTE0PRE:l.GTE0],"")),dt=u=>(c,v,E,g,m,x,y,$,R,A,I,W,_n)=>(b(E)?v="":b(g)?v=`>=${E}.0.0${u?"-0":""}`:b(m)?v=`>=${E}.${g}.0${u?"-0":""}`:x?v=`>=${v}`:v=`>=${v}${u?"-0":""}`,b(R)?$="":b(A)?$=`<${+R+1}.0.0-0`:b(I)?$=`<${R}.${+A+1}.0-0`:W?$=`<=${R}.${A}.${I}-${W}`:u?$=`<${R}.${A}.${+I+1}-0`:$=`<=${$}`,`${v} ${$}`.trim()),Et=(u,c,v)=>{for(let E=0;E<u.length;E++)if(!u[E].test(c))return!1;if(c.prerelease.length&&!v.includePrerelease){for(let E=0;E<u.length;E++)if(n(u[E].semver),u[E].semver!==i.ANY&&u[E].semver.prerelease.length>0){const g=u[E].semver;if(g.major===c.major&&g.minor===c.minor&&g.patch===c.patch)return!0}return!1}return!0};return ge}var ve,Me;function he(){if(Me)return ve;Me=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,d){if(d=r(d),h instanceof e){if(h.loose===!!d.loose)return h;h=h.value}a("comparator",h,d),this.options=d,this.loose=!!d.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(h){const d=this.options.loose?s[i.COMPARATORLOOSE]:s[i.COMPARATOR],w=h.match(d);if(!w)throw new TypeError(`Invalid comparator: ${h}`);this.operator=w[1]!==void 0?w[1]:"",this.operator==="="&&(this.operator=""),w[2]?this.semver=new f(w[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(a("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new f(h,this.options)}catch{return!1}return n(h,this.operator,this.semver,this.options)}intersects(h,d){if(!(h instanceof e))throw new TypeError("a Comparator is required");if((!d||typeof d!="object")&&(d={loose:!!d,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l(h.value,d).test(this.value);if(h.operator==="")return h.value===""?!0:new l(this.value,d).test(h.semver);const w=(this.operator===">="||this.operator===">")&&(h.operator===">="||h.operator===">"),p=(this.operator==="<="||this.operator==="<")&&(h.operator==="<="||h.operator==="<"),H=this.semver.version===h.semver.version,fe=(this.operator===">="||this.operator==="<=")&&(h.operator===">="||h.operator==="<="),b=n(this.semver,"<",h.semver,d)&&(this.operator===">="||this.operator===">")&&(h.operator==="<="||h.operator==="<"),me=n(this.semver,">",h.semver,d)&&(this.operator==="<="||this.operator==="<")&&(h.operator===">="||h.operator===">");return w||p||H&&fe||b||me}}ve=e;const r=le,{re:s,t:i}=V,n=it,a=oe,f=L,l=D();return ve}const os=D(),ls=(t,e,r)=>{try{e=new os(e,r)}catch{return!1}return e.test(t)};var ue=ls;const cs=D(),hs=(t,e)=>new cs(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));var us=hs;const fs=L,ms=D(),ps=(t,e,r)=>{let s=null,i=null,n=null;try{n=new ms(e,r)}catch{return null}return t.forEach(a=>{n.test(a)&&(!s||i.compare(a)===-1)&&(s=a,i=new fs(s,r))}),s};var ds=ps;const Es=L,gs=D(),vs=(t,e,r)=>{let s=null,i=null,n=null;try{n=new gs(e,r)}catch{return null}return t.forEach(a=>{n.test(a)&&(!s||i.compare(a)===1)&&(s=a,i=new Es(s,r))}),s};var xs=vs;const xe=L,$s=D(),qe=ce,ws=(t,e)=>{t=new $s(t,e);let r=new xe("0.0.0");if(t.test(r)||(r=new xe("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){const i=t.set[s];let n=null;i.forEach(a=>{const f=new xe(a.semver.version);switch(a.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!n||qe(f,n))&&(n=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),n&&(!r||qe(r,n))&&(r=n)}return r&&t.test(r)?r:null};var Ns=ws;const ys=D(),Rs=(t,e)=>{try{return new ys(t,e).range||"*"}catch{return null}};var Is=Rs;const Ss=L,ot=he(),{ANY:js}=ot,bs=D(),Os=ue,Ye=ce,We=Ie,Ls=je,As=Se,Ts=(t,e,r,s)=>{t=new Ss(t,s),e=new bs(e,s);let i,n,a,f,l;switch(r){case">":i=Ye,n=Ls,a=We,f=">",l=">=";break;case"<":i=We,n=As,a=Ye,f="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Os(t,e,s))return!1;for(let j=0;j<e.set.length;++j){const h=e.set[j];let d=null,w=null;if(h.forEach(p=>{p.semver===js&&(p=new ot(">=0.0.0")),d=d||p,w=w||p,i(p.semver,d.semver,s)?d=p:a(p.semver,w.semver,s)&&(w=p)}),d.operator===f||d.operator===l||(!w.operator||w.operator===f)&&n(t,w.semver))return!1;if(w.operator===l&&a(t,w.semver))return!1}return!0};var be=Ts;const Cs=be,Ds=(t,e,r)=>Cs(t,e,">",r);var Ps=Ds;const Gs=be,_s=(t,e,r)=>Gs(t,e,"<",r);var Fs=_s;const Ze=D(),Vs=(t,e,r)=>(t=new Ze(t,r),e=new Ze(e,r),t.intersects(e));var ks=Vs;const Xs=ue,Us=C;var zs=(t,e,r)=>{const s=[];let i=null,n=null;const a=t.sort((h,d)=>Us(h,d,r));for(const h of a)Xs(h,e,r)?(n=h,i||(i=h)):(n&&s.push([i,n]),n=null,i=null);i&&s.push([i,null]);const f=[];for(const[h,d]of s)h===d?f.push(h):!d&&h===a[0]?f.push("*"):d?h===a[0]?f.push(`<=${d}`):f.push(`${h} - ${d}`):f.push(`>=${h}`);const l=f.join(" || "),j=typeof e.raw=="string"?e.raw:String(e);return l.length<j.length?l:e};const Ke=D(),se=he(),{ANY:$e}=se,K=ue,Oe=C,Hs=(t,e,r={})=>{if(t===e)return!0;t=new Ke(t,r),e=new Ke(e,r);let s=!1;e:for(const i of t.set){for(const n of e.set){const a=Bs(i,n,r);if(s=s||a!==null,a)continue e}if(s)return!1}return!0},Bs=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===$e){if(e.length===1&&e[0].semver===$e)return!0;r.includePrerelease?t=[new se(">=0.0.0-0")]:t=[new se(">=0.0.0")]}if(e.length===1&&e[0].semver===$e){if(r.includePrerelease)return!0;e=[new se(">=0.0.0")]}const s=new Set;let i,n;for(const p of t)p.operator===">"||p.operator===">="?i=Je(i,p,r):p.operator==="<"||p.operator==="<="?n=Qe(n,p,r):s.add(p.semver);if(s.size>1)return null;let a;if(i&&n){if(a=Oe(i.semver,n.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||n.operator!=="<="))return null}for(const p of s){if(i&&!K(p,String(i),r)||n&&!K(p,String(n),r))return null;for(const H of e)if(!K(p,String(H),r))return!1;return!0}let f,l,j,h,d=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1,w=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&n.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const p of e){if(h=h||p.operator===">"||p.operator===">=",j=j||p.operator==="<"||p.operator==="<=",i){if(w&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===w.major&&p.semver.minor===w.minor&&p.semver.patch===w.patch&&(w=!1),p.operator===">"||p.operator===">="){if(f=Je(i,p,r),f===p&&f!==i)return!1}else if(i.operator===">="&&!K(i.semver,String(p),r))return!1}if(n){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(l=Qe(n,p,r),l===p&&l!==n)return!1}else if(n.operator==="<="&&!K(n.semver,String(p),r))return!1}if(!p.operator&&(n||i)&&a!==0)return!1}return!(i&&j&&!n&&a!==0||n&&h&&!i&&a!==0||w||d)},Je=(t,e,r)=>{if(!t)return e;const s=Oe(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},Qe=(t,e,r)=>{if(!t)return e;const s=Oe(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};var Ms=Hs;const we=V,qs=ae,Ys=L,et=st,Ws=Y,Zs=Yt,Ks=Kt,Js=Qt,Qs=ir,en=lr,tn=ur,rn=pr,sn=gr,nn=C,an=$r,on=yr,ln=Re,cn=jr,hn=Lr,un=ce,fn=Ie,mn=ye,pn=nt,dn=Se,En=je,gn=it,vn=Kr,xn=he(),$n=D(),wn=ue,Nn=us,yn=ds,Rn=xs,In=Ns,Sn=Is,jn=be,bn=Ps,On=Fs,Ln=ks,An=zs,Tn=Ms;var Cn={parse:Ws,valid:Zs,clean:Ks,inc:Js,diff:Qs,major:en,minor:tn,patch:rn,prerelease:sn,compare:nn,rcompare:an,compareLoose:on,compareBuild:ln,sort:cn,rsort:hn,gt:un,lt:fn,eq:mn,neq:pn,gte:dn,lte:En,cmp:gn,coerce:vn,Comparator:xn,Range:$n,satisfies:wn,toComparators:Nn,maxSatisfying:yn,minSatisfying:Rn,minVersion:In,validRange:Sn,outside:jn,gtr:bn,ltr:On,intersects:Ln,simplifyRange:An,subset:Tn,SemVer:Ys,re:we.re,src:we.src,tokens:we.t,SEMVER_SPEC_VERSION:qs.SEMVER_SPEC_VERSION,compareIdentifiers:et.compareIdentifiers,rcompareIdentifiers:et.rcompareIdentifiers};const Dn=()=>{const e=ie().state.systemStatus.profile,[r,s]=F.useState({latestVersion:"",show:!1});F.useEffect(()=>{Nt().then(n=>{const{skippedVersion:a}=Le.get(["skippedVersion"]),f=n.slice(1)||"0.0.0",l=e.version;s({latestVersion:f,show:!(a?a===f:!1)&&Cn.compare(l,f)===-1})})},[]);const i=()=>{Le.set({skippedVersion:r.latestVersion}),s(n=>({...n,show:!1}))};return r.show?o.jsxs("div",{className:"flex flex-row justify-center items-center w-full py-2 px-2",children:[o.jsxs("a",{className:"flex flex-row justify-start items-center text-sm break-all text-green-600 hover:underline",target:"_blank",href:"https://github.com/usememos/memos/releases",children:["✨ New version: v",r.latestVersion]}),o.jsx("button",{className:"ml-1 opacity-60 text-gray-600 hover:opacity-100",onClick:i,children:o.jsx(O.X,{className:"w-4 h-auto"})})]}):null},Pn=()=>{const{t}=Ne(),e=yt(),r=tt(),s=Rt(),i=s.state.showHeader,n=r.isVisitorMode()&&!r.state.user;return F.useEffect(()=>{const a=()=>{window.innerWidth<jt.sm?s.setHeaderStatus(!1):s.setHeaderStatus(!0)};window.addEventListener("resize",a),a()},[e]),o.jsxs("div",{className:`fixed sm:sticky top-0 left-0 w-full sm:w-56 h-full shrink-0 pointer-events-none sm:pointer-events-auto z-10 ${i&&"pointer-events-auto"}`,children:[o.jsx("div",{className:`fixed top-0 left-0 w-full h-full bg-black opacity-0 pointer-events-none transition-opacity duration-300 sm:!hidden ${i&&"opacity-60 pointer-events-auto"}`,onClick:()=>s.setHeaderStatus(!1)}),o.jsxs("header",{className:`relative w-56 sm:w-full h-full max-h-screen overflow-auto hide-scrollbar flex flex-col justify-start items-start py-4 z-30 bg-zinc-100 dark:bg-zinc-800 sm:bg-transparent sm:shadow-none transition-all duration-300 -translate-x-full sm:translate-x-0 ${i&&"translate-x-0 shadow-2xl"}`,children:[o.jsx(At,{}),o.jsxs("div",{className:"w-full px-2 py-2 flex flex-col justify-start items-start shrink-0 space-y-2",children:[!n&&o.jsxs(o.Fragment,{children:[o.jsx(k,{to:"/",id:"header-home",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.Home,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.home")]})}),o.jsx(k,{to:"/review",id:"header-review",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.Calendar,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("daily-review.title")]})}),o.jsx(k,{to:"/resources",id:"header-resources",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.Paperclip,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.resources")]})})]}),o.jsx(k,{to:"/explore",id:"header-explore",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.Hash,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.explore")]})}),!n&&o.jsxs(o.Fragment,{children:[o.jsx(k,{to:"/archived",id:"header-archived",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.Archive,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.archived")]})}),o.jsx(k,{to:"/setting",id:"header-setting",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.Settings,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.settings")]})}),o.jsx("div",{className:"pr-3 pl-1 w-full",children:o.jsxs("button",{className:"mt-2 w-full py-3 rounded-full flex flex-row justify-center items-center bg-green-600 text-white hover:shadow hover:opacity-80",onClick:()=>St(),children:[o.jsx(O.Edit3,{className:"w-4 h-auto mr-1"}),t("common.new")]})}),o.jsx(Dn,{})]}),n&&o.jsx(o.Fragment,{children:o.jsx(k,{to:"/auth",id:"header-auth",className:({isActive:a})=>`${a&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(O.LogIn,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.sign-in")]})})})]})]}),o.jsxs("div",{className:"chencd97-home-footer",children:[o.jsxs("p",{children:["© 2023 ",o.jsx("a",{href:"https://chencd97.com",children:"chencd97"})]}),o.jsxs("p",{children:["Powered by ",o.jsx("a",{href:"https://github.com/usememos/memos",children:"Memos"})]}),o.jsxs("p",{children:["DDoS protection by ",o.jsx("a",{href:"https://www.cloudflare.com",children:"Cloudflare"})]}),o.jsx("br",{}),o.jsxs("p",{id:"hitokotoStr",title:"一言功能会间隔20秒后自动获取新内容, 此功能会将内容逐一打印输出到您的浏览器控制台, 您可以打开浏览器控制台查看历史记录",children:["正在获取",o.jsx("a",{href:"https://hitokoto.cn/",children:"一言"}),"数据..."]})]})]})},Gn=()=>{const e=ie().state.systemStatus.profile,[r,s]=F.useState({show:!1});return F.useEffect(()=>{const i=e.mode==="demo";s({show:i})},[]),r.show?o.jsx("div",{className:"z-1 flex flex-row items-center justify-center w-full py-2 text-sm sm:text-lg font-medium dark:text-gray-300 bg-white dark:bg-zinc-700 shadow",children:o.jsxs("div",{className:"w-full max-w-6xl px-4 flex flex-row justify-between items-center gap-x-3",children:[o.jsx("span",{children:"✨ A lightweight, self-hosted memo hub. Open Source and Free forever. ✨"}),o.jsxs("a",{className:"btn-primary shadow",href:"https://usememos.com/docs/install/docker",target:"_blank",children:["Install",o.jsx(O.ExternalLink,{className:"w-4 h-auto ml-1"})]})]})}):null};function kn(){return o.jsxs("div",{className:"w-full min-h-full bg-zinc-100 dark:bg-zinc-800",children:[o.jsx("div",{className:"w-full h-auto flex flex-col justify-start items-center",children:o.jsx(Gn,{})}),o.jsxs("div",{className:"w-full max-w-6xl mx-auto flex flex-row justify-center items-start sm:px-4",children:[o.jsx(Pn,{}),o.jsx("main",{className:"w-auto max-w-full flex-grow shrink flex flex-col justify-start items-start",children:o.jsx(It,{})})]})]})}export{kn as default};
